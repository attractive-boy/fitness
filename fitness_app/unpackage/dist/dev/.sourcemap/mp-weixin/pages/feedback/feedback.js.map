{"version":3,"sources":["uni-app:///main.js","webpack:///C:/project/jiedan/fitness/fitness_app/pages/feedback/feedback.vue?5c30","webpack:///C:/project/jiedan/fitness/fitness_app/pages/feedback/feedback.vue?a0bd","webpack:///C:/project/jiedan/fitness/fitness_app/pages/feedback/feedback.vue?9862","webpack:///C:/project/jiedan/fitness/fitness_app/pages/feedback/feedback.vue?04d2","uni-app:///pages/feedback/feedback.vue","webpack:///C:/project/jiedan/fitness/fitness_app/pages/feedback/feedback.vue?243d","webpack:///C:/project/jiedan/fitness/fitness_app/pages/feedback/feedback.vue?4ec6"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","content","rule","msg","data","currentCate","cateList","fileList","form","cate","telephone","imgs","methods","deletePic","console","afterRead","lists","fileListLen","item","status","message","i","result","Object","file","url","submit","uni","title","valid","icon"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AACuM;AACvM,gBAAgB,2MAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kLAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAAyxB,CAAgB,wwBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC6D7yB;AACA;AACA;AAAA;AAAA;AACA;EACAC;IACAC;IACAC;EACA;AACA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAR;QACAS;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACAC;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAD;gBACAE;gBACAC;gBACAD;kBACA,oDACAE;oBACAC;oBACAC;kBAAA,GACA;gBACA;gBACAC;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACAJ;gBACA,sBACAD,aACA,GACAM;kBACAJ;kBACAC;kBACAI;kBACAC;gBACA,GACA;gBACAR;cAAA;gBAbAI;gBAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAeA;IACAK;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;kBACAC;gBACA;gBACA;gBACA;kBACA;gBACA;gBAEA;kBACA;kBACA;gBACA;gBACAC;gBAAA,MACAA;kBAAA;kBAAA;gBAAA;gBACAF;kBACAG;kBACAF;gBACA;gBAAA;cAAA;gBAAA,MAGA;kBAAA;kBAAA;gBAAA;gBACAD;kBACAG;kBACAF;gBACA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA,OAIA;cAAA;gBACAD;kBACAG;kBACAF;gBACA;gBACAD;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC3JA;AAAA;AAAA;AAAA;AAA4+C,CAAgB,u4CAAG,EAAC,C;;;;;;;;;;;ACAhgD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/feedback/feedback.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/feedback/feedback.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./feedback.vue?vue&type=template&id=91bba7b4&scoped=true&\"\nvar renderjs\nimport script from \"./feedback.vue?vue&type=script&lang=js&\"\nexport * from \"./feedback.vue?vue&type=script&lang=js&\"\nimport style0 from \"./feedback.vue?vue&type=style&index=0&id=91bba7b4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91bba7b4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/feedback/feedback.vue\"\nexport default component.exports","export * from \"-!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./feedback.vue?vue&type=template&id=91bba7b4&scoped=true&\"","var components\ntry {\n  components = {\n    MNavbar: function () {\n      return import(\n        /* webpackChunkName: \"components/MNavbar/MNavbar\" */ \"@/components/MNavbar/MNavbar.vue\"\n      )\n    },\n    uUpload: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-upload/u-upload\" */ \"@/uni_modules/uview-ui/components/u-upload/u-upload.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, index) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        index = _temp2.index\n      var _temp, _temp2\n      _vm.currentCate = index\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./feedback.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./feedback.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <MNavbar\r\n      title=\"意见反馈\"\r\n      titleStyle=\"color:#333;\"\r\n      bgColor=\"#FFF\"\r\n      leftIconColor=\"#333\" />\r\n    <view class=\"fir_title\">\r\n      <view>反馈类型</view>\r\n      <view>*</view>\r\n    </view>\r\n    <view class=\"cate_box\">\r\n      <view\n        class=\"cate_item\"\r\n        @tap=\"currentCate = index\"\n        :class=\"currentCate === index ? 'choose_cate_item' : ''\"\n        v-for=\"(item, index) in cateList\"\n        :key=\"index\">\n        {{ item || \"\" }}\n      </view>\r\n    </view>\r\n    <textarea\n      class=\"content\"\n      v-model=\"form.content\"\n      placeholder=\"请输入内容\"></textarea>\n    <view class=\"title_box\">上传图片</view>\r\n    <view class=\"upload_box\">\r\n      <u-upload\r\n        :fileList=\"fileList\"\r\n        @delete=\"deletePic\"\r\n        @afterRead=\"afterRead\"\r\n        name=\"3\"\r\n        multiple\r\n        :maxCount=\"4\"\r\n        :previewFullImage=\"true\"></u-upload>\r\n    </view>\r\n    <view class=\"title_box\">联系方式</view>\r\n    <view class=\"input_item\">\r\n      <input\r\n        maxlength=\"11\"\r\n        v-model=\"form.telephone\"\n        type=\"text\"\n        class=\"input\"\n        placeholder=\"请输入手机号便于联系(非必填)\" />\r\n    </view>\r\n    <view style=\"height: 90rpx\"></view>\r\n    <view class=\"sub_but\">\r\n      <u-button\n        text=\"提交反馈\"\r\n        @click=\"submit()\"\n        :custom-style=\"{\n          background: '#333',\r\n          border: 'unset',\r\n          color: '#fff',\n          height: '90rpx',\n        }\"></u-button>\r\n    </view>\r\n  </view>\n</template>\n\n<script>\r\nimport { feedBackSubApi } from \"@/apis/feedback.js\";\r\nimport { validateObject } from \"@/utils/utils.js\";\r\nimport { uploadFileApi } from \"@/apis/file.js\";\r\nconst rule = {\r\n  content: {\r\n    rule: \"empty\",\r\n    msg: \"请输入要反馈的内容\",\r\n  },\r\n};\nexport default {\n  data() {\n    return {\r\n      currentCate: 0,\r\n      cateList: [\"产品建议\", \"功能故障\", \"其他问题\"],\r\n      fileList: [],\r\n      form: {\r\n        cate: \"\",\r\n        content: \"\",\r\n        telephone: \"\",\r\n        imgs: \"\",\r\n      },\r\n    };\n  },\n  methods: {\r\n    deletePic(e) {\r\n      console.log(e);\r\n    },\r\n    async afterRead(e) {\r\n      console.log(e.file);\r\n      let lists = [].concat(e.file);\r\n      let fileListLen = this.fileList.length;\r\n      lists.map((item) => {\r\n        this.fileList.push({\r\n          ...item,\r\n          status: \"uploading\",\r\n          message: \"上传中\",\r\n        });\r\n      });\r\n      for (let i = 0; i < lists.length; i++) {\r\n        const result = await uploadFileApi(lists[i].url);\r\n        let item = this.fileList[fileListLen];\r\n        this.fileList.splice(\n          fileListLen,\n          1,\n          Object.assign(item, {\r\n            status: \"success\",\r\n            message: \"\",\r\n            file: result.fileName,\r\n            url: result.url,\r\n          })\n        );\r\n        fileListLen++;\r\n      }\r\n    },\r\n    async submit() {\r\n      uni.showLoading({\r\n        title: \"提交中....\",\r\n      });\r\n      this.form.cate = this.cateList[this.currentCate];\r\n      this.fileList.forEach((item) => {\r\n        this.form.imgs += item.file + \",\";\r\n      });\n\r\n      if (this.form.imgs.endsWith(\",\")) {\r\n        // 如果是，使用 slice() 删除最后一个字符\r\n        this.form.imgs = this.form.imgs.slice(0, -1);\r\n      }\r\n      let valid = validateObject(this.form, rule);\r\n      if (valid != null) {\r\n        uni.showToast({\r\n          icon: \"none\",\r\n          title: valid,\r\n        });\r\n        return;\r\n      }\r\n      if (this.form.telephone && !uni.$u.test.mobile(this.form.telephone)) {\r\n        uni.showToast({\r\n          icon: \"none\",\r\n          title: \"手机号格式错误\",\r\n        });\r\n        return;\r\n      }\r\n      try {\r\n        await feedBackSubApi(this.form);\r\n        uni.showToast({\r\n          icon: \"success\",\r\n          title: \"提交成功\",\r\n        });\r\n        uni.navigateBack();\r\n      } catch (e) {\r\n        uni.hideLoading();\r\n      }\r\n    },\r\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\r\n.fir_title {\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 20rpx 40rpx 15rpx;\r\n  & > view:first-child {\r\n    color: #333;\r\n    font-size: 28rpx;\r\n    font-weight: 700;\r\n  }\r\n  & > view:last-child {\r\n    color: #ff914d;\r\n    margin-left: 7rpx;\r\n  }\r\n}\r\n.title_box {\r\n  color: #333;\r\n  font-size: 28rpx;\r\n  font-weight: 700;\r\n  margin: 20rpx 40rpx 15rpx;\r\n}\r\n.cate_box {\r\n  margin: 0 40rpx;\r\n  font-size: 27rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  .cate_item {\r\n    border-radius: 7rpx;\r\n    padding: 7rpx 18rpx;\r\n    margin-right: 30rpx;\r\n    color: #a9aaae;\r\n    background: #f3f3f3;\r\n  }\r\n  .choose_cate_item {\r\n    border-radius: 7rpx;\r\n    padding: 7rpx 18rpx;\r\n    margin-right: 25rpx;\r\n    color: #fff;\r\n    background: #333;\r\n  }\r\n}\r\n.content {\r\n  width: 670rpx;\r\n  background: #f3f3f3;\r\n  margin: 15rpx auto 0;\r\n  color: #161616;\r\n  font-size: 26rpx;\r\n  box-sizing: border-box;\r\n  padding: 20rpx 20rpx;\r\n  border-radius: 5rpx;\r\n}\r\n.upload_box {\r\n  width: 670rpx;\r\n  margin: 0 auto;\r\n}\r\n.input_item {\r\n  width: 670rpx;\r\n  margin: 0 auto;\r\n  .input {\r\n    font-size: 26rpx;\r\n    border-bottom: 2rpx solid #ddd;\r\n    padding: 10rpx 0 15rpx;\r\n  }\r\n}\r\n.sub_but {\r\n  width: 670rpx;\r\n  left: 40rpx;\r\n  bottom: 70rpx;\r\n  position: fixed;\r\n  padding-bottom: constant(safe-area-inset-bottom);\r\n  /*兼容 IOS<11.2*/\r\n  padding-bottom: env(safe-area-inset-bottom);\r\n}\r\n</style>\n","import mod from \"-!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./feedback.vue?vue&type=style&index=0&id=91bba7b4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./feedback.vue?vue&type=style&index=0&id=91bba7b4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1728478873111\n      var cssReload = require(\"C:/ide/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}